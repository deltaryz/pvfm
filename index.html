<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PonyvilleFM</title>

    <!-- we use MUI for its modal -->
    <link href="./mui.min.css" rel="stylesheet" type="text/css" />
    <script src="./mui.min.js"></script>

    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="./favicon.ico">

    <!-- Theme colors  -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#232323">
    <meta name="theme-color" content="#232323" />

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js').then((registration) => {
                    console.log('Service Worker registered with scope:', registration.scope);
                }).catch((error) => {
                    console.error('Service Worker registration failed:', error);
                });
            });
        }
    </script>

    <!-- Prevent caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="PVFM Web Player">
    <meta property="og:description" content="PonyvilleFM Mobile-Friendly Web Player
        
Installable as a PWA and from Google Play">
    <meta property="og:image" content="https://pvfm.deltaryz.com/transparent_icon.png">
    <meta property="og:url" content="https://pvfm.deltaryz.com/">
    <meta property="og:type" content="website">

    <!-- Twitter Card meta tags -->
    <meta name="twitter:title" content="PVFM Web Player">
    <meta name="twitter:description">
    <meta property="og:description" content="PonyvilleFM Mobile-Friendly Web Player
        
Installable as a PWA and from Google Play">
    <meta name="twitter:image" content="https://pvfm.deltaryz.com/transparent_icon.png">
    <meta name="twitter:url" content="https://pvfm.deltaryz.com/">

</head>

<body>

    <div class="outer">
        <div class="middle">
            <div class="inner">

                <a href="https://ponyvillefm.com/" target="_blank" rel="noopener">
                    <img src="./pvfmlogo.png" style=" max-height:50px;" />
                </a>

                <!-- Metadata -->

                <div id="container" style="display: flex; align-items: center; gap: 10px;">
                    <!-- Play/pause -->
                    <button id="playPauseButton" style="border: none; background: transparent; padding: 0;">
                        <img id="playPauseIcon" src="play.svg" alt="Play Icon" style="width: 80px; height: 80px;">
                    </button>

                    <!-- Text section for artist and title -->
                    <div id="text" style="display: flex; flex-direction: column; width:100%; text-align: left;;">
                        <div id="artist"
                            style="font-weight: bolder; color:rgba(255, 255, 255, 0.713); padding-bottom:10px; font-size:15px;">
                            PonyvilleFM
                        </div>
                        <div id="title" style="filter:drop-shadow(2px 2px 2px black); font-size:13px;">
                            Getting track info...
                        </div>
                    </div>
                </div>

                <!-- We insert GUI elements in here from the JS  -->
                <div id="stationSelector"></div>

                <br />

                <!-- Reset -->
                <button id="resetButton">â†» Reset Stream</button>

                <br />

                <!-- Volume slider  -->
                <input style="width: 400px; max-width: 60%;" title="Volume Control" type="range" id="volumeControl"
                    class="slider" min="0" max="100" value="100" />

                <br />

                <!-- TODO: Replace with person icon instead of 'Listeners' -->
                <div id="listeners">
                    Listeners: ??
                </div>

                <br />

                <!-- The 'hidden' property is removed when we receive metadata -->
                <div id="eventDisplay" class="eventDisplay" hidden>
                    <div id="eventStatus" class="eventStatus">Next event:</div>
                    <div id="eventName" class="eventName">
                        <b id="eventTitle">PLACEHOLDER</b> <br />
                        <i class="eventPresentedBy">presented by</i>
                        <i>PLACEHOLDER</i>
                    </div>
                    <div id="timeUntilEvent" class="timeUntilEvent" hidden>69 hours 69 minutes</div>
                </div>
            </div>

            <!-- PWA button -->
            <button id="installPWA" hidden style="margin-left: 2px; margin-right: 2px; margin-bottom: 10px;">Install
                PWA</button>

            <!-- Google Play button -->
            <button id="googlePlayButton" hidden
                style="margin-left: 2px; margin-right: 2px; margin-bottom: 10px;">Google Play</button>

            <!-- Schedule modal -->
            <button id="scheduleButton"
                style="margin-left: 2px; margin-right: 2px; margin-bottom: 10px; margin-top:15px;">Schedule</button>

            <div id="credits">
                Made with ðŸ’œ by <a href="https://deltaryz.com" target="_blank" rel="noopener">âˆ†â€¢RYZ</a> and <a
                    href="https://ponyvillefm.com" target="_blank" rel="noopener">PVFM</a>
            </div>

        </div>
    </div>
    </div>

    <script src="app.js"></script>
</body>